<!-- const data = Array.from({ length: 30 }, (_, i) => ({
  title: `è¨˜äº‹ã‚¿ã‚¤ãƒˆãƒ«${i + 1}`,
  url: `https://zenn.dev/link${i + 1}`,
  publishedAt: `2023-01-${String(i + 1).padStart(2, '0')}`,
  likedCount: Math.floor(Math.random() * 200),
  emoji: ['ğŸ˜€', 'ğŸ˜†', 'ğŸ¤”', 'ğŸ˜…', 'ğŸ˜'][Math.floor(Math.random() * 5)],
  username: `ãƒ¦ãƒ¼ã‚¶ãƒ¼${i + 1}`,
  userLink: `https://zenn.dev/user${i + 1}`,
  avatar: `https://zenn.dev/avatar${i + 1}.png`,
  topics: ['JavaScript', 'Webé–‹ç™º', 'ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°', 'ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰', 'ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰'][
    Math.floor(Math.random() * 5)
  ],
  body: `è¨˜äº‹ã®å†…å®¹${i + 1}`
})) -->
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>è¨˜äº‹ãƒ©ãƒ³ã‚­ãƒ³ã‚° - ã„ã„ã­æ•°ã®ãƒãƒ¼ãƒãƒ£ãƒ¼ãƒˆ</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
      .chart-container {
        position: relative;
        margin: auto;
        height: 800px; /* ã‚°ãƒ©ãƒ•ã®é«˜ã•ã‚’èª¿æ•´ */
        width: 1000px; /* ã‚°ãƒ©ãƒ•ã®å¹…ã‚’èª¿æ•´ */
      }
    </style>
  </head>
  <body>
    <div class="chart-container">
      <canvas id="likesChart"></canvas>
    </div>

    <script>
      const data = Array.from({ length: 30 }, (_, i) => ({
        title: `è¨˜äº‹ã‚¿ã‚¤ãƒˆãƒ«${i + 1}`,
        url: `https://zenn.dev/link${i + 1}`,
        publishedAt: `2023-01-${String(i + 1).padStart(2, '0')}`,
        likedCount: Math.floor(Math.random() * 200),
        emoji: ['ğŸ˜€', 'ğŸ˜†', 'ğŸ¤”', 'ğŸ˜…', 'ğŸ˜'][Math.floor(Math.random() * 5)],
        username: `ãƒ¦ãƒ¼ã‚¶ãƒ¼${i + 1}`,
        userLink: `https://zenn.dev/user${i + 1}`,
        avatar:
          'https://res.cloudinary.com/zenn/image/fetch/s--a2VU1wR0--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_70/https://storage.googleapis.com/zenn-user-upload/avatar/22994af1d6.jpeg',
        topics: ['JavaScript', 'Webé–‹ç™º', 'ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°', 'ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰', 'ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰'][
          Math.floor(Math.random() * 5)
        ],
        body: `è¨˜äº‹ã®å†…å®¹${i + 1}`
      }))

      data.sort((a, b) => b.likedCount - a.likedCount)

      const ctx = document.getElementById('likesChart').getContext('2d')
      const likesChart = new Chart(ctx, {
        type: 'bar',
        data: {
          labels: data.map((article) => article.title),
          datasets: [
            {
              label: 'ã„ã„ã­æ•°',
              data: data.map((article) => article.likedCount),
              backgroundColor: 'rgba(255, 99, 132, 0.2)',
              borderColor: 'rgba(255, 99, 132, 1)',
              borderWidth: 1
            }
          ]
        },
        options: {
          indexAxis: 'y',
          plugins: {
            // legend: {
            //   display: false // å‡¡ä¾‹ã‚’éè¡¨ç¤º
            // },
            tooltip: {
              callbacks: {
                // ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—ã®å†…å®¹ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
                beforeTitle: function (context) {
                  return `å…¬é–‹æ—¥: ${context[0].raw.publishedAt}`
                },
                title: function (context) {
                  return `ã‚¿ã‚¤ãƒˆãƒ«: ${context[0].label}`
                },
                afterTitle: function (context) {
                  return `è‘—è€…: ${context[0].raw.username}`
                },
                label: function (context) {
                  return `ã„ã„ã­æ•°: ${context.raw.likedCount}`
                },
                afterLabel: function (context) {
                  return `ãƒˆãƒ”ãƒƒã‚¯: ${context.raw.topics.join(', ')}`
                }
              }
            }
          },
          scales: {
            x: {
              beginAtZero: true
            }
          }
        },
        plugins: [
          {
            // ãƒ‡ãƒ¼ã‚¿ã‚¿ã‚¤ãƒˆãƒ«ã®å¾Œã‚ã«è‘—è€…ã®ã‚¢ãƒã‚¿ãƒ¼ã‚’è¡¨ç¤º
            afterDraw: (chart) => {
              var ctx = chart.ctx
              chart.data.datasets.forEach(function (dataset, i) {
                var meta = chart.getDatasetMeta(i)
                if (!meta.hidden) {
                  meta.data.forEach(function (element, index) {
                    // ã‚¢ãƒã‚¿ãƒ¼ç”»åƒã‚’æç”»
                    ctx.fillStyle = '#fff'
                    var img = new Image()
                    img.src = dataset.data[index].avatar
                    img.onload = function () {
                      ctx.drawImage(img, element.x + 10, element.y - 15, 30, 30)
                    }
                  })
                }
              })
            }
          }
        ]
      })
    </script>
  </body>
</html>
